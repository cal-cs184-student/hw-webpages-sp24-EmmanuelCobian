<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HW 2 Write Up - Emmanuel Cobian Duarte</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container">
			<a class="navbar-brand" href="../index.html">CS 184 HW Write Ups</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
				aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarContent">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" href="../hw1/index.html">
							HW 1
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" href="#">
							HW 2
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../hw3/index.html">
							HW 3
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../hw4/index.html">
							HW 4
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<section id="overview">
		<div class="container my-5">
			<h1>Homework 2 - Mesh Edit</h1>
			<!-- give a high level overview of what you did in this hw
				think about what you've build as a whole. Share your thoughts on what interesting things you're learned from completing the homework. -->
			<p class="lead">Fill this in</p>
		</div>
	</section>

	<section id="part1" class="bg-body-secondary py-5">
		<div class="container">
			<h1>Section 1: Bezier Curves and Surfaces</h1>
			<h2>Part 1: Bezier Curves with 1D de Casteljau Subdivision</h2>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>What is de Casteljau's algorithm?</h3>
					<p>De Casteljau's algorithm is a way to evaluate BÃ©zier curves and surfaces.</p>
				</div>
				<div class="col-md-12 col-lg-6">
					<h3>How was the de Casteljau algorithm used?</h3>
					<p>By interpolating between adjacent control points, we recursively divide the curve into smaller
						parts until we're left with a single point. This point represents a single point on the curve.
					</p>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./original_pts.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Original Points</figcaption>
					</figure>
				</div>
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./step1.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Step 1</figcaption>
					</figure>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./step2.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Step 2</figcaption>
					</figure>
				</div>
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./step3.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Step 3</figcaption>
					</figure>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./step4.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Step 4</figcaption>
					</figure>
				</div>
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./step5.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Step 5</figcaption>
					</figure>
				</div>
			</div>
			<div class="row justify-content-center mt-4">
				<div class="col-sm-12 col-md-6">
					<figure class="figure">
						<img src="./alt_anchor.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Different Anchors and t-value</figcaption>
					</figure>
				</div>
			</div>

		</div>
	</section>

	<section id="part2" class="py-5">
		<div class="container">
			<h2>Part 2: Bezir Surfaces with Separable 1D de Casteljau</h2>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>How does de Casteljau algorithm extend to Bezier surfaces?</h3>
					<p>De Casteljau's algorithm can be extended to Bezier surfaces by applying the same recursive
						subdivision to first the rows of the surface and then taking each of those evaluated points and
						creating another point from those.</p>
					<h3>How was this extension implemented to evaluate Bezier surfaces?</h3>
					<p>By expanding on the implementation for Bezier curves, I first implemented the logic for
						evaluating one step of the algorithm, then implementing the logic to get the point in one
						dimension. These abstractions help make the next part easier by just evaluating the 1-D point
						for u first, then running the result of that again, but now for the t value.</p>
				</div>
				<div class="col-md-12 col-lg-6">
					<img src="./teapot_part3.png" class="img-fluid">
				</div>
			</div>
		</div>
	</section>

	<section id="part3" class="bg-body-secondary py-5">
		<div class="container">
			<h1>Section 2: Triangle Meshes and Half-Edge Data Structure</h1>
			<h2>Part 3: Area-Weighted Vertex Normals</h2>
			<div class="row mt-4">
				<div class="col">
					<h3>How were area-weighted vertex normals implemented?</h3>
					<p>By iterating through the adjacent faces of a vertex and taking their area, I accumulated these
						values and then took the <code>.unit()</code> of them to get the normalized version of the total
						area. When iterating through faces, I have a check for whether a face is a boundary because
						those shouldn't be taken into consideration for the shading.</p>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./no_vertex_normals.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Teapot shading without vertex normals
						</figcaption>
					</figure>
				</div>
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./vertex_normals.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Teapot shading with vertex normals</figcaption>
					</figure>
				</div>
			</div>
		</div>
		</div>
	</section>

	<section id="part4" class="py-5">
		<div class="container">
			<h2>Part 4: Edge Flip</h2>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>How was edge flip implemented?</h3>
					<p>I first took inventory of all the components present in the pair of triangles
						<code>(a, b, c)</code> and <code>(c, b, d)</code>. This includes, halfedges, faces, verticies,
						and edges. Afterwards, I just update all the pointers of these components according to how they
						change after the flip.
					</p>
				</div>
				<div class="col-md-12 col-lg-6">
					<h3>Any interesting tricks for implementation/debugging?</h3>
					<p>I found that using a piece of paper and drawing out the components of the two triangles
						<code>(a, b, c)</code> and <code>(c, b, d)</code> was really helpful in keeping track where
						everything was. After drawing out the before and after, all that was left was to read out the
						locations/positions of the new components.
					</p>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./before_flips.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Before Edge Flips</figcaption>
					</figure>
				</div>
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./after_flips.png" class="img-fluid">
						<figcaption class="figure-caption text-center">After Edge Flips</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</section>

	<section id="part5" class="bg-body-secondary py-5">
		<div class="container">
			<h2>Part 5: Edge Split</h2>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>How was edge split implemented? Any Interesting implementation tricks?</h3>
					<p>In a similar process to the previous part, I first drew out the before and after of what 2
						neighboring triangles would look like during the edge split process. After that, the solution
						pretty much reads itself out. First by collecting all the components and then updating them as
						needed.</p>
				</div>
				<div class="col-md-12 col-lg-6">
					<h3>Any eventful debugging journeys?</h3>
					<p>Although I thought this was going to be a quick implementation because of how easy it was to read
						out the updated components from the drawn diagram I had, I ended up debugging for a while
						because of an input error. One of the new halfedges was pointing to the wrong edge, leading to a
						bug when splitting the same edge multiple times. The solution was just to run through the
						diagram again and fix any misinputs.</p>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./before_splits.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Before edge splits</figcaption>
					</figure>
				</div>
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./after_splits.png" class="img-fluid">
						<figcaption class="figure-caption text-center">After edge splits</figcaption>
					</figure>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./before_splits.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Before edge splits</figcaption>
					</figure>
				</div>
				<div class="col-md-12 col-lg-6">
					<figure class="figure">
						<img src="./after_splits_and_flips.png" class="img-fluid">
						<figcaption class="figure-caption text-center">After combination of edge splits and flips
						</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</section>

	<section id="part6" class="py-5">
		<div class="container">
			<h2>Part 6: Loop Subdivision for Mesh Upsampling</h2>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>How was loop subdivision implemented?</h3>
					<p>First, I computed the positions of both new and old vertices using the original mesh. These
						computations came from the lecture slides where we saw the weights to use for placing verticies.
						Then, I subdivided every edge in the original mesh. Afterwards, I flipped all the new edges that
						connected an old and new vertex. Finally, I updated all vertex positions in the subdivided mesh.
					</p>
				</div>
				<div class="col-md-12 col-lg-6">
					<h3>Any interesting implementation tricks you used?</h3>
					<p>Similar to previous parts of this assignment, I found it really useful to look back at the drawn
						out diagrams for what a mesh should look like. Specifically, I found my diagram helpful to know
						which new edges to assign the <code>isNew</code> property because this was something I struggled
						with figuring out until I referenced back to the diagram.</p>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-6">
					<h3>Observations of how meshes behave after loop subdivision. What happens to sharp corners and
						edges?</h3>
					<p>From the screenshots below, I notice that sharp corners and edges smooth out, becoming more like
						curves. In general, I notice this is the case for all meshes I've looked at. If a mesh is
						already curved, then loop subdivision maintains the relative curveness of the mesh.</p>
					<figure class="figure">
						<img src="./torus_before_subdivision.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Figure before loop subdivision. Sharp edges and
							corners are present</figcaption>
					</figure>
					<figure class="figure">
						<img src="./torus_after_subdivision.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Figure after two iterations of loop subdivision.
							No sharp edges or corners are present</figcaption>
					</figure>
				</div>
				<div class="col-md-12 col-lg-6">
					<h3>Can you reduce this effect by pre-splitting some edges?</h3>
					<p>I was able to reduce this effect slightly by splitting edges such that distances between vertices
						remains about equal. Below are screenshots showing the preprocessing splits before and after two
						iterations of loop sampling.</p>
					<figure class="figure">
						<img src="./torus_pre_processed.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Figure preprocessed before loop subdivision
						</figcaption>
					</figure>
					<figure class="figure">
						<img src="./torus_pre_processed_subdiv.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Figure preprocessed after 2 iterations of loop
							subdivision. Edges still remain relatively sharp.</figcaption>
					</figure>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-md-12 col-lg-8">
					<h3>Perform several iterations of loop subdivision on the cube. Document how the cube becomes
						asymmetrical after several iterations.</h3>
					<p>fill dis in</p>
				</div>
				<div class="row mt-4">
					<figure class="figure col-md-12 col-lg-4">
						<img src="./normal_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">Regular cube before loop subdivision.
						</figcaption>
					</figure>
					<figure class="figure col-md-12 col-lg-4">
						<img src="./2_iterations_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">cube after two iterations of loop subdivision.
						</figcaption>
					</figure>
					<figure class="figure col-md-12 col-lg-4">
						<img src="./4_iterations_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">cube after four iterations of loop subdivision.
						</figcaption>
					</figure>
				</div>
				<div class="row mt-4">
					<div class="col-md-12 col-lg-8">
						<h3>Can you pre-process the cube with edge flips and splits so that the cube subdivides
							symmetrically? Document these effects and explain why they occur. Also explain how your
							pre-processing helps alleviate the effects.</h3>
						<p>fill dis in</p>
					</div>
				</div>
				<div class="row mt-4">
					<figure class="figure col-md-12 col-lg-4">
						<img src="./pre_processed_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">pre-processed cube before loop
							subdivision</figcaption>
					</figure>
					<figure class="figure col-md-12 col-lg-4">
						<img src="./2_pre_processed_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">pre-processed cube after two iterations
							of loop subdivision</figcaption>
					</figure>
					<figure class="figure col-md-12 col-lg-4">
						<img src="./4_pre_processed_cube.png" class="img-fluid">
						<figcaption class="figure-caption text-center">pre-processed cube after four iterations
							of loop subdivision</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</section>

	<footer>
		<div class="container my-5">
			<p class="text-center">Emmanuel Cobian Duarte - CS 184 - Spring 2024</p>
		</div>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
		</script>
</body>

</html>